<!DOCTYPE html>
<html lang="ja" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ã‚°ãƒªã‚¹ãƒ­äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰">
    <title>ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - ã‚°ãƒªã‚¹ãƒ­äºˆç´„</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+JP:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ç®¡ç†è€…ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            text-align: center;
            border: 1px solid var(--glass-border);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-light), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }

        .schedule-form {
            display: grid;
            gap: 1rem;
        }

        .time-checkboxes {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .time-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .time-checkbox:hover {
            background: var(--primary-color);
            color: white;
        }

        .time-checkbox input {
            accent-color: var(--primary-color);
        }

        .time-checkbox.checked {
            background: var(--primary-color);
            color: white;
        }

        .time-checkbox.custom-time {
            background: linear-gradient(135deg, var(--secondary-color), var(--secondary-dark));
            color: white;
            position: relative;
        }

        .remove-time-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.75rem;
            margin-left: 0.25rem;
            transition: var(--transition-fast);
        }

        .remove-time-btn:hover {
            background: var(--danger-color);
        }

        .schedule-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bg-tertiary);
            border-radius: var(--radius-sm);
            margin-bottom: 0.5rem;
        }

        .schedule-date {
            font-weight: 600;
        }

        .schedule-times {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .filter-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
        }

        .login-card {
            max-width: 400px;
            width: 100%;
        }

        .bulk-actions {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <div class="logo-icon">ğŸš</div>
                <span class="logo-text">ã‚°ãƒªã‚¹ãƒ­äºˆç´„</span>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="nav-link">äºˆç´„ãƒšãƒ¼ã‚¸</a>
                <span class="nav-link" id="adminUserName" style="color: var(--secondary-color);"></span>
                <button class="btn btn-sm btn-secondary hidden" id="logoutBtn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
                <button class="theme-toggle" id="themeToggle" aria-label="ãƒ†ãƒ¼ãƒåˆ‡æ›¿">ğŸŒ™</button>
            </nav>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="main-container">
        <!-- ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ -->
        <div id="loginSection" class="login-container">
            <div class="card login-card animate-slide-up">
                <div class="card-header">
                    <div class="card-icon">ğŸ”</div>
                    <h2 class="card-title">ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³</h2>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                        <input type="password" class="form-input" id="adminPassword" placeholder="ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">ãƒ­ã‚°ã‚¤ãƒ³</button>
                </form>
            </div>
        </div>

        <!-- ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
        <div id="adminDashboard" class="hidden">
            <div class="page-title animate-slide-up">
                <h1>ğŸ“Š ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
                <p>äºˆç´„ç®¡ç†ãƒ»é‹è¡Œæ—¥ç¨‹ç™»éŒ²</p>
            </div>

            <div class="admin-layout">
                <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
                <aside class="admin-sidebar">
                    <nav class="admin-nav">
                        <button class="admin-nav-item active" data-section="overview">
                            ğŸ“Š æ¦‚è¦
                        </button>
                        <button class="admin-nav-item" data-section="reservations">
                            ğŸ“‹ äºˆç´„ä¸€è¦§
                        </button>
                        <button class="admin-nav-item" data-section="schedule">
                            ğŸ“… é‹è¡Œæ—¥ç¨‹
                        </button>
                        <button class="admin-nav-item" data-section="locations">
                            ğŸ“ ä¹—è»Šå ´æ‰€
                        </button>
                        <button class="admin-nav-item" data-section="settings">
                            âš™ï¸ è¨­å®š
                        </button>
                    </nav>
                </aside>

                <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
                <div class="admin-content">
                    <!-- æ¦‚è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section id="overviewSection" class="animate-fade-in">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="statTodayReservations">0</div>
                                <div class="stat-label">ä»Šæ—¥ã®äºˆç´„</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="statTotalReservations">0</div>
                                <div class="stat-label">ç·äºˆç´„æ•°</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="statUpcomingDays">0</div>
                                <div class="stat-label">é‹è¡Œäºˆå®šæ—¥</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="statCancelled">0</div>
                                <div class="stat-label">ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ•°</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">ğŸ“…</div>
                                <h3 class="card-title">ä»Šå¾Œã®äºˆç´„</h3>
                            </div>
                            <div class="table-container">
                                <table class="table" id="upcomingReservationsTable">
                                    <thead>
                                        <tr>
                                            <th>æ—¥æ™‚</th>
                                            <th>ãŠåå‰</th>
                                            <th>ä¹—è»Šå ´æ‰€</th>
                                            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- JSã§ç”Ÿæˆ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- äºˆç´„ä¸€è¦§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section id="reservationsSection" class="hidden">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">ğŸ“‹</div>
                                <h3 class="card-title">äºˆç´„ç®¡ç†</h3>
                            </div>

                            <div class="filter-bar">
                                <input type="date" class="form-input" id="filterDate" style="width: auto;">
                                <select class="form-select" id="filterStatus" style="width: auto;">
                                    <option value="">å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</option>
                                    <option value="confirmed">ç¢ºå®š</option>
                                    <option value="cancelled">ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¸ˆ</option>
                                </select>
                                <button class="btn btn-secondary" id="exportCsv">CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                            </div>

                            <div class="table-container">
                                <table class="table" id="allReservationsTable">
                                    <thead>
                                        <tr>
                                            <th>äºˆç´„ç•ªå·</th>
                                            <th>æ—¥æ™‚</th>
                                            <th>ãŠåå‰</th>
                                            <th>ä¹—è»Šå ´æ‰€</th>
                                            <th>é€£çµ¡æ–¹æ³•</th>
                                            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- JSã§ç”Ÿæˆ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- é‹è¡Œæ—¥ç¨‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section id="scheduleSection" class="hidden">
                        <div class="card mb-3">
                            <div class="card-header">
                                <div class="card-icon">â•</div>
                                <h3 class="card-title">é‹è¡Œæ—¥ç¨‹ã®è¿½åŠ </h3>
                            </div>
                            <form id="addScheduleForm" class="schedule-form">
                                <div class="form-group">
                                    <label class="form-label">æ—¥ä»˜</label>
                                    <input type="date" class="form-input" id="scheduleDate" required
                                        style="max-width: 300px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">é‹è¡Œæ™‚é–“å¸¯</label>
                                    <div class="time-checkboxes" id="timeCheckboxes">
                                        <!-- JSã§ç”Ÿæˆ -->
                                    </div>
                                    <div class="flex gap-1 mt-1">
                                        <button type="button" class="btn btn-sm btn-secondary"
                                            id="selectAllTimes">å…¨é¸æŠ</button>
                                        <button type="button" class="btn btn-sm btn-secondary"
                                            id="deselectAllTimes">å…¨è§£é™¤</button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ã‚«ã‚¹ã‚¿ãƒ æ™‚é–“ã‚’è¿½åŠ </label>
                                    <div class="flex gap-1" style="flex-wrap: wrap; align-items: center;">
                                        <input type="time" class="form-input" id="customTimeInput"
                                            style="max-width: 150px;">
                                        <button type="button" class="btn btn-sm btn-primary" id="addCustomTime">â•
                                            æ™‚é–“ã‚’è¿½åŠ </button>
                                    </div>
                                    <p class="form-hint">ä»»æ„ã®æ™‚é–“ã‚’è¿½åŠ ã§ãã¾ã™ï¼ˆä¾‹: 08:30ã€12:30ãªã©ï¼‰</p>
                                </div>
                                <button type="submit" class="btn btn-success">é‹è¡Œæ—¥ç¨‹ã‚’è¿½åŠ </button>
                            </form>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">ğŸ“…</div>
                                <h3 class="card-title">ç™»éŒ²æ¸ˆã¿é‹è¡Œæ—¥ç¨‹</h3>
                            </div>
                            <div class="schedule-list" id="scheduleList">
                                <!-- JSã§ç”Ÿæˆ -->
                            </div>
                        </div>
                    </section>

                    <!-- ä¹—è»Šå ´æ‰€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section id="locationsSection" class="hidden">
                        <div class="card mb-3">
                            <div class="card-header">
                                <div class="card-icon">â•</div>
                                <h3 class="card-title">ä¹—è»Šå ´æ‰€ã®è¿½åŠ </h3>
                            </div>
                            <form id="addLocationForm">
                                <div class="form-group">
                                    <label class="form-label">å ´æ‰€å</label>
                                    <input type="text" class="form-input" id="locationName" placeholder="ä¾‹: ç”ºå½¹å ´å‰"
                                        required style="max-width: 400px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ä½æ‰€ï¼ˆä»»æ„ï¼‰</label>
                                    <input type="text" class="form-input" id="locationAddress"
                                        placeholder="ä¾‹: ã€’XXX-XXXX ç”º1-1-1" style="max-width: 400px;">
                                </div>
                                <button type="submit" class="btn btn-success">ä¹—è»Šå ´æ‰€ã‚’è¿½åŠ </button>
                            </form>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">ğŸ“</div>
                                <h3 class="card-title">ç™»éŒ²æ¸ˆã¿ä¹—è»Šå ´æ‰€</h3>
                            </div>
                            <div id="locationsList">
                                <!-- JSã§ç”Ÿæˆ -->
                            </div>
                        </div>
                    </section>

                    <!-- è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section id="settingsSection" class="hidden">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">âš™ï¸</div>
                                <h3 class="card-title">ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</h3>
                            </div>
                            <div class="alert alert-info mb-3">
                                <span class="alert-icon">â„¹ï¸</span>
                                <div>è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ã€<code>data/config.json</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ã€‚</div>
                            </div>
                            <div class="reservation-summary" id="currentSettings">
                                <!-- JSã§ç”Ÿæˆ -->
                            </div>
                        </div>

                        <div class="card mt-3">
                            <div class="card-header">
                                <div class="card-icon">ğŸ”‘</div>
                                <h3 class="card-title">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´</h3>
                            </div>
                            <form id="changePasswordForm">
                                <div class="form-group">
                                    <label class="form-label">æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                                    <input type="password" class="form-input" id="newPassword" required
                                        style="max-width: 300px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª</label>
                                    <input type="password" class="form-input" id="confirmPassword" required
                                        style="max-width: 300px;">
                                </div>
                                <button type="submit" class="btn btn-primary">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´</button>
                            </form>
                        </div>

                        <div class="card mt-3">
                            <div class="card-header">
                                <div class="card-icon">ğŸ’¾</div>
                                <h3 class="card-title">ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h3>
                            </div>
                            <p class="mb-2">ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã—ã¾ã™ã€‚</p>
                            <div class="flex gap-2" style="flex-wrap: wrap;">
                                <button class="btn btn-secondary" id="exportData">ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                                <button class="btn btn-danger" id="clearData">ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="footer">
        <p class="footer-text">Â© 2026 ç”ºã®ã‚°ãƒªã‚¹ãƒ­äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  - ç®¡ç†è€…ãƒšãƒ¼ã‚¸</p>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>